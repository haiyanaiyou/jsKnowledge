<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>js中的this指向问题</title>
	</head>
	<body>
	</body>
	<script type="text/javascript">
		//全局调用
		/*window.onload = function(){
			test();
		};
			function test(){
				this.x=1;
				console.log(x);
			}*/
		/*var a=1;
		function test(){
			this.a=2;
		}
		test();
		alert(a);
		//作为对象方法调用
		function obj(){
			document.write(this.x);
		}
		var o={};
		o.x=1;
		o.m=obj;
		o.m();*/
		//作为构造函数调用
		/*var a= 4;
		function test1(){
			this.a=3;
			document.write('<br/> test1'+a);
		}
		var o = new test1();
//		test1();
		document.write('<br/> o'+o.a);
		document.write('<br/> quan'+a);*/
		//错误demo
		/*function foo(){
			var a=2;
			this.bar();
		}
		function bar(){
			console.log(this.a);
		}
		foo();*/
		//调用点展示
		function baz(){
			console.log('baz');
			bar();
		}
		function bar(){
			console.log('bar');
			foo();
		}
		function foo(){
			console.log('foo');
			
		}
		baz();
		
		//new绑定和明确绑定之间的判断
		function foo(something){
			this.a = something;
		}
		var obj1={};
		var bar = foo.bind(obj1);
		bar(2);
		console.log(obj1.a);
		var baz = new bar(3);
		console.log(obj1.a);
		console.log(baz.a)
	</script>
</html>
